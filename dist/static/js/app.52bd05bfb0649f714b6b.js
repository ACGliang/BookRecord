webpackJsonp([0,2],[,function(t,e,o){"use strict";var a=o(55),s=o.n(a);e.a={key:"readingBooks",save:function(t){return window.localStorage.setItem(this.key,s()(t))},fetch:function(){return JSON.parse(window.localStorage.getItem(this.key)||"[]")}}},,function(t,e,o){"use strict";o.d(e,"a",function(){return a}),o.d(e,"b",function(){return s}),o.d(e,"c",function(){return i}),o.d(e,"d",function(){return n}),o.d(e,"e",function(){return r}),o.d(e,"f",function(){return l}),o.d(e,"m",function(){return c}),o.d(e,"i",function(){return d}),o.d(e,"j",function(){return u}),o.d(e,"k",function(){return g}),o.d(e,"l",function(){return f}),o.d(e,"n",function(){return p}),o.d(e,"p",function(){return v}),o.d(e,"o",function(){return h}),o.d(e,"r",function(){return m}),o.d(e,"q",function(){return P}),o.d(e,"h",function(){return k}),o.d(e,"s",function(){return C}),o.d(e,"t",function(){return _}),o.d(e,"g",function(){return D});var a="PlSlideBar/setSlideBarStatus",s="PlSlideBar/addCategory",i="PlSlideBar/chooseCategory",n="PlSlideBar/setDeleteCategoryIndex",r="PlSlideBar/deleteCategory",l="PlSlideBar/saveCategoriesToLocalstorage",c="PlDialogCollection/ShowDeleteCategoryDialog",d="PlDialogCollection/hideDialog",u="PlDialogCollection/showCategroyDialog",g="PlDialogCollection/showBookDialog",f="PlDialogCollection/showProgressDialog",p="PlDialogCollection/addBookInfo",v="PlDialogCollection/addCategoryInfo",h="PlDialogCollection/addProgressInfo",m="PlMain/addBook",P="PlMain/setEditBookIndex",k="PlMain/saveBooksToLocalstorage",C="PlMain/saveBookProgress",_="PlMain/deleteBook",D="PlMain/deleteCategoryBooks"},,function(t,e,o){"use strict";var a=o(4),s=o.n(a),i=o(41),n=o(16),r=o.n(n),l=o(20),c=o.n(l);s.a.use(i.a),e.a=new i.a({routes:[{path:"/",component:c.a},{path:"/bookDetail/:id",component:r.a}]})},,,,,,,function(t,e,o){o(31);var a=o(0)(o(57),o(23),null,null);t.exports=a.exports},function(t,e,o){"use strict";var a=o(4),s=o.n(a),i=o(39),n=o.n(i),r=o(67),l=o(66),c=o(68),d=o(65);s.a.use(n.a),e.a=new n.a.Store({actions:d.a,modules:{PlMain:r.a,PlDialogCollection:l.a,PlSlideBar:c.a}})},,,function(t,e,o){o(37);var a=o(0)(o(58),o(30),null,null);t.exports=a.exports},function(t,e,o){o(32);var a=o(0)(o(59),o(24),"data-v-148b4dbc",null);t.exports=a.exports},function(t,e,o){o(36);var a=o(0)(o(60),o(28),"data-v-5296ac7a",null);t.exports=a.exports},function(t,e,o){o(35);var a=o(0)(o(61),o(27),"data-v-460feefe",null);t.exports=a.exports},function(t,e,o){var a=o(0)(o(62),o(29),null,null);t.exports=a.exports},function(t,e,o){o(33);var a=o(0)(o(63),o(25),"data-v-17c77cad",null);t.exports=a.exports},function(t,e,o){o(34);var a=o(0)(o(64),o(26),"data-v-2f835cf6",null);t.exports=a.exports},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{attrs:{id:"app"}},[o("pl-slide-bar"),t._v(" "),o("transition",{attrs:{name:"router-fade"}},[o("router-view")],1),t._v(" "),o("pl-dialog-Collection")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("transition",{attrs:{name:"PlDialog-fade"}},[o("div",{staticClass:"PlDialog-wrapper",on:{click:function(e){e.target===e.currentTarget&&t.hideDialog(e)}}},[o("div",{staticClass:"PlDialog"},[o("div",{staticClass:"PlDialog-header"},[t._v("\r\n\t\t\t\t"+t._s(t.title)+"\r\n\t\t\t")]),t._v(" "),o("div",{staticClass:"PlDialog-body"},[o("div",{staticClass:"PlDialog-info"},[o("ul",t._l(t.info,function(e){return o("li",[t._v(t._s(e))])}))]),t._v(" "),t._t("body")],2),t._v(" "),o("div",{staticClass:"PlDialog-footer"},[t._t("footer")],2)])])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlMain"},[o("div",{staticClass:"PlMain-list"},[o("div",{attrs:{id:"wrapper"}},[o("ul",t._l(t.books,function(e,a){return o("li",{directives:[{name:"show",rawName:"v-show",value:e.category==t.category,expression:"item.category==category"}],staticClass:"PlMain-item"},[o("div",{staticClass:"PlMain-detail",attrs:{id:a},on:{click:function(e){t.goToPlBookDetail(a)}}},[o("div",{staticClass:"PlMain-book"},[o("span",{staticClass:"bookName"},[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"author"},[t._v(t._s(e.author))])]),t._v(" "),o("div",{staticClass:"PlMain-progressBar"},[o("div",{staticClass:"outerBar"},[o("div",{staticClass:"innerBar",style:{width:e.progress}})]),t._v(" "),o("span",{staticClass:"PlMain-progress"},[t._v(" "+t._s(e.progress))])])]),t._v(" "),o("div",{staticClass:"PlMain-edit"},[o("span",{staticClass:"fa fa-pencil-square-o fa-2x updateIcon",on:{click:function(e){t.showProgressDialog(a)}}}),t._v(" "),o("span",{staticClass:"pages"},[t._v(t._s(e.readedPages)+" 页")])])])}))])]),t._v(" "),o("div",{staticClass:"PlMain-addNew",on:{click:t.showBookDialog}},[o("span",{staticClass:"fa fa-book fa-lg"})])])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("transition",{attrs:{name:"SlideBar"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.slide,expression:"slide"}],staticClass:"PlSlideBar-wrapper",on:{click:function(e){e.target===e.currentTarget&&t.hideSlideBar(e)}}})]),t._v(" "),o("transition",{attrs:{name:"Bar"}},[o("div",{directives:[{name:"show",rawName:"v-show",value:t.slide,expression:"slide"}],staticClass:"PlSlideBar"},[o("div",{staticClass:"PlSlideBar-head"},[o("div",[o("span",{staticClass:"fa fa-plus fa-2x",on:{click:t.showCatDia}})])]),t._v(" "),o("div",{staticClass:"PlSlideBar-body"},[o("ul",t._l(t.categories,function(e,a){return o("li",[o("span",{staticClass:"PlSlideBar-name",class:{"PlSlideBar-name-active":e.status},on:{click:function(e){t.chooseCategory(a)}}},[t._v(t._s(e.name))]),t._v(" "),o("span",{staticClass:"fa fa-trash-o fa-lg PlSlideBar-delete",on:{click:function(e){t.showdelCatDia(a)}}})])}))])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlHeader"},[o("span",{staticClass:"fa fa-bars fa-2x pl-bars",on:{click:t.activeSlideBar}}),o("span",{staticClass:"entry"},[t._v(t._s(t.category))]),o("span",{staticClass:"place"})])},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.categoryDialog,expression:"categoryDialog"}],attrs:{title:"添加书籍类别",info:t.categoryInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.newCategory,expression:"newCategory"}],attrs:{type:"text",placeholder:"请输入类别"},domProps:{value:t._s(t.newCategory)},on:{input:function(e){e.target.composing||(t.newCategory=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.addCategory},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("添加")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.bookDialog,expression:"bookDialog"}],attrs:{title:"添加书籍",info:t.bookInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.bookName,expression:"bookName"}],attrs:{type:"text",placeholder:"请输入书名"},domProps:{value:t._s(t.bookName)},on:{input:function(e){e.target.composing||(t.bookName=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.author,expression:"author"}],attrs:{type:"text",placeholder:"请输入作者"},domProps:{value:t._s(t.author)},on:{input:function(e){e.target.composing||(t.author=e.target.value)}}}),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.pages,expression:"pages"}],attrs:{type:"text",placeholder:"请输入书的总页数"},domProps:{value:t._s(t.pages)},on:{input:function(e){e.target.composing||(t.pages=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.addBook},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("添加")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.progressDialog,expression:"progressDialog"}],attrs:{title:"更改书籍进度",info:t.progressInfo}},[o("div",{slot:"body"},[o("input",{directives:[{name:"model",rawName:"v-model",value:t.readedPages,expression:"readedPages"}],attrs:{type:"text",placeholder:"请输入已读页数"},domProps:{value:t._s(t.readedPages)},on:{input:function(e){e.target.composing||(t.readedPages=e.target.value)}}})]),t._v(" "),o("div",{on:{click:t.updateBookProgress},slot:"footer"},[o("span",{staticClass:"ensureAdd"},[t._v("修改")])])]),t._v(" "),o("pl-dialog",{directives:[{name:"show",rawName:"v-show",value:t.deleteCatDialog,expression:"deleteCatDialog"}],attrs:{title:"删除书籍类别"}},[o("div",{slot:"body"},[o("p",{staticClass:"PlDialogCollection-text"},[t._v("你将删除该类别")])]),t._v(" "),o("div",{on:{click:t.deleteCategory},slot:"footer"},[o("span",{staticClass:"PlDialogCollection-delete"},[t._v("确定")])])])],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlIndex"},[o("pl-header"),t._v(" "),o("div",{staticClass:"PlIndex-main"}),t._v(" "),o("pl-main")],1)},staticRenderFns:[]}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"PlBookDetail"},[o("div",{staticClass:"PlBookDetail-book"},[o("div",{staticClass:"PlBookDetail-title"},[o("span",[t._v(t._s(t.book.name))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-user-o fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("作者："+t._s(t.book.author))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-bookmark-o fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("书签："+t._s(t.book.readedPages)+"/"+t._s(t.book.pages))])]),t._v(" "),o("div",{staticClass:"PlBookDetail-meta"},[o("span",{staticClass:"fa fa-archive fa-2x PlBookDetail-icon"}),o("div",{staticClass:"PlBookDetail-text"},[t._v("进度："+t._s(t.book.progress))])])]),t._v(" "),o("div",{staticClass:"PlBookDetail-btn"},[o("button",{staticClass:"PlBookDetail-btn-back",on:{click:t.goToIndex}},[t._v("返回")]),t._v(" "),o("button",{staticClass:"PlBookDetail-btn-delete",on:{click:t.deleteBook}},[t._v("删除")])])])},staticRenderFns:[]}},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},function(t,e){},,,,,,,,,,,,,,,,,,,,function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(18),s=o.n(a),i=o(22),n=o.n(i),r=o(15),l=o.n(r);e.default={name:"app",created:function(){this.$store.dispatch("init"),console.log(l.a),l.a.attach(document.body)},components:{PlDialogCollection:s.a,plSlideBar:n.a}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(5);e.default={data:function(){return{index:this.$route.params.id}},computed:{book:function(){return this.$store.state.PlMain.books[this.index]}},methods:{deleteBook:function(){a.a.push("/"),this.$store.dispatch("deleteBook",this.index)},goToIndex:function(){a.a.push("/")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(1);e.default={props:{info:{type:Array},title:{type:String}},methods:{hideDialog:function(){this.$store.dispatch("hideDialog")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(17),s=o.n(a);e.default={data:function(){return{bookName:"",author:"",pages:"",readedPages:"",newCategory:""}},computed:{bookInfo:function(){return this.$store.state.PlDialogCollection.bookInfo},categoryInfo:function(){return this.$store.state.PlDialogCollection.categoryInfo},progressInfo:function(){return this.$store.state.PlDialogCollection.progressInfo},categoryDialog:function(){return this.$store.state.PlDialogCollection.categoryDialog},bookDialog:function(){return this.$store.state.PlDialogCollection.bookDialog},progressDialog:function(){return this.$store.state.PlDialogCollection.progressDialog},deleteCatDialog:function(){return this.$store.state.PlDialogCollection.deleteCatDialog},category:function(){return this.$store.state.PlSlideBar.category},editIndex:function(){return this.$store.state.PlMain.editIndex},books:function(){return this.$store.state.PlMain.books}},components:{PlDialog:s.a},methods:{addBook:function(){var t=this,e={category:t.category,name:t.bookName,author:t.author,pages:t.pages,progress:"0%",swiped:!1,readedPages:0};this.$store.dispatch("addBook",e),0==this.bookInfo.length&&(this.bookName="",this.pages="",this.author="")},updateBookProgress:function(){this.$store.dispatch("updateBookProgress",this.readedPages),0==this.progressInfo.length&&(this.readedPages="")},addCategory:function(){var t=this,e={name:t.newCategory,status:!1};this.$store.dispatch("addCategory",e),0==this.categoryInfo.length&&(this.newCategory="")},deleteCategory:function(){this.$store.dispatch("deleteCategory"),this.$store.dispatch("hideDialog")}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={computed:{category:function(){return this.$store.state.PlSlideBar.category}},methods:{activeSlideBar:function(){this.$store.dispatch("setSlidebarStatus",!0)}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(19),s=o.n(a),i=o(21),n=o.n(i);e.default={components:{PlMain:n.a,PlHeader:s.a}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(5),s=o(54),i=(o.n(s),o(14)),n=o.n(i);e.default={data:function(){return{scroll:null}},computed:{slideBar:function(){return this.$store.state.PlSlideBar.slideBarStatus},books:function(){return this.$store.state.PlMain.books},category:function(){return this.$store.state.PlSlideBar.category}},mounted:function(){this.initScroll()},watch:{books:function(){this.$nextTick(function(){this.initScroll()})}},methods:{showBookDialog:function(){this.$store.dispatch("showBookDialog")},showProgressDialog:function(t){console.log(event),event.preventDefault(),this.$store.dispatch("showProgressDialog",t)},goToPlBookDetail:function(t){a.a.push({path:"/bookDetail/"+t})},initScroll:function(){this.scroll?this.scroll.refresh():this.scroll=new n.a(document.getElementById("wrapper"),{click:!0})}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});o(1);e.default={computed:{categories:function(){return this.$store.state.PlSlideBar.categories},slide:function(){return this.$store.state.PlSlideBar.slideBarStatus}},methods:{showCatDia:function(){this.$store.dispatch("showCategoryDialog")},chooseCategory:function(t){this.$store.dispatch("chooseCategory",t)},showdelCatDia:function(t){this.$store.dispatch("showDeleteCategoryDialog",t)},hideSlideBar:function(){this.$store.dispatch("setSlidebarStatus",!1)}}}},function(t,e,o){"use strict";var a=o(3),s=o(1);e.a={init:function(t){var e=t.commit,o=t.state;s.a.key=o.PlSlideBar.STORAGE_KEY_CATEGORY,o.PlSlideBar.categories=s.a.fetch(),o.PlSlideBar.categories[0]?e(a.c,0):null,s.a.key=o.PlMain.STORAGE_KEY_BOOK,o.PlMain.books=s.a.fetch()}}},function(t,e,o){"use strict";var a,s=o(8),i=o.n(s),n=o(3);e.a={state:{categoryDialog:!1,bookDialog:!1,progressDialog:!1,deleteCatDialog:!1,bookInfo:[],progressInfo:[],categoryInfo:[]},mutations:(a={},i()(a,n.i,function(t){t.categoryDialog=!1,t.bookDialog=!1,t.progressDialog=!1,t.deleteCatDialog=!1,t.bookInfo=[],t.categoryInfo=[],t.progressInfo=[]}),i()(a,n.j,function(t){t.categoryDialog=!0}),i()(a,n.k,function(t){t.bookDialog=!0}),i()(a,n.l,function(t){t.progressDialog=!0}),i()(a,n.m,function(t){t.deleteCatDialog=!0}),i()(a,n.n,function(t,e){t.bookInfo=e}),i()(a,n.o,function(t,e){t.progressInfo=e}),i()(a,n.p,function(t,e){t.categoryInfo=e}),a),actions:{showCategoryDialog:function(t){var e=t.commit;e(n.j)},showBookDialog:function(t){var e=t.commit;e(n.k)},showDeleteCategoryDialog:function(t,e){var o=t.commit;o(n.m),o(n.d,e)},showProgressDialog:function(t,e){var o=t.commit;o(n.q,e),o(n.l)},addBookInfo:function(t,e){var o=t.commit;o(n.n,e)},addCategoryInfo:function(t,e){var o=t.commit;o(n.p,e)},addProgressInfo:function(t,e){var o=t.commit;o(n.o,e)},hideDialog:function(t){var e=t.commit;e(n.i)}}}},function(t,e,o){"use strict";var a,s=o(8),i=o.n(s),n=o(1),r=o(3);e.a={state:{books:[],editIndex:0,STORAGE_KEY_BOOK:"readingBooks"},mutations:(a={},i()(a,r.r,function(t,e){t.books.push(e)}),i()(a,r.q,function(t,e){t.editIndex=e}),i()(a,r.h,function(t){n.a.key=t.STORAGE_KEY_BOOK,n.a.save(t.books)}),i()(a,r.s,function(t,e){var o=t.books[t.editIndex];o.readedPages=e,o.progress=parseInt(e/o.pages*100)+"%"}),i()(a,r.t,function(t,e){t.books.splice(e,1)}),i()(a,r.g,function(t,e){for(var o=t.books.length,a=o-1;a>=0;a--)t.books[a].category==e?t.books.splice(a,1):null}),a),actions:{deleteBook:function(t,e){var o=t.commit,a=t.state;o(r.t,e),console.log(void 0==a.books[200]),o(r.h)},addBook:function(t,e){var o=t.commit,a=t.dispatch,s=[];""==e.author&&s.push("作者名未填写"),""==e.name&&s.push("书名未填写"),""==e.pages&&s.push("书的总页数未填写"),isNaN(e.pages)&&s.push("输入的书籍总页数格式错误"),""==e.category&&s.push("请在侧栏选择一个类别"),s.length>0?a("addBookInfo",s):(o(r.r,e),o(r.h),a("hideDialog"))},updateBookProgress:function(t,e){var o=t.commit,a=t.state,s=t.dispatch,i=[];""==e&&(i=["请填写已读页数"]),isNaN(e)&&(i=["请输入数字"]),parseInt(e)>parseInt(a.books[a.editIndex].pages)&&(i=["已读页数大于书籍的实际页数"]),i.length>0?s("addProgressInfo",i):(o(r.s,e),o(r.h),s("hideDialog"))}}}},function(t,e,o){"use strict";var a,s=o(8),i=o.n(s),n=o(1),r=o(3);e.a={state:{slideBarStatus:!1,categories:[],category:"",deleteIndex:0,STORAGE_KEY_CATEGORY:"readingCategory"},mutations:(a={},i()(a,r.a,function(t,e){t.slideBarStatus=e}),i()(a,r.b,function(t,e){t.categories.push(e)}),i()(a,r.c,function(t,e){t.category=t.categories[e].name;for(var o=t.categories,a=0;a<o.length;a++)t.categories[a].status=!1;for(var s=0;s<o.length;s++)s==e?t.categories[s].status=!0:t.categories[s].status=!1}),i()(a,r.d,function(t,e){t.deleteIndex=e}),i()(a,r.e,function(t){t.categories.splice(t.deleteIndex,1)}),i()(a,r.f,function(t){n.a.key=t.STORAGE_KEY_CATEGORY,n.a.save(t.categories)}),a),actions:{chooseCategory:function(t,e){var o=t.commit;o(r.c,e)},deleteCategory:function(t){var e=t.commit,o=t.state,a=o.categories[o.deleteIndex].name;e(r.g,a),e(r.h),o.category==a?o.category="":null,e(r.e),e(r.f)},addCategory:function(t,e){var o=t.commit,a=t.dispatch,s=[];""==e.name&&s.push("请填写书籍类别"),s.length>0?a("addCategoryInfo",s):(o(r.b,e),o(r.f),a("hideDialog"))},setSlidebarStatus:function(t,e){var o=t.commit;o(r.a,e)}}}},function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=o(4),s=o.n(a),i=o(12),n=o.n(i),r=o(13),l=o(5);new s.a({el:"#app",store:r.a,router:l.a,template:"<App/>",components:{App:n.a}})}],[69]);
//# sourceMappingURL=app.52bd05bfb0649f714b6b.js.map